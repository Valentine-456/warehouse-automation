import{i as y,j as C,m as k,_ as b,r as o,o as f,c as $,w as t,a as e,b as s,d as R,f as i,e as D,F as q,h as N,k as S,t as I}from"./index-55f5978c.js";import{u as d}from"./categoryEditor-a2289465.js";import{u as O}from"./login-661ada66.js";const B={data:()=>({category_name:""}),computed:{...y(d,["isCreateDialogOpen"]),...C(O,["jwt_token"])},methods:{...k(d,["create"]),async createRequest(){if(this.category_name.length==0)return;await this.create(this.jwt_token,this.category_name)?this.closeDialog():alert("The error happened")},closeDialog(){this.category_name="",this.isCreateDialogOpen=!1}}};function T(a,n,w,V,U,l){const u=o("v-card-text"),m=o("v-text-field"),_=o("v-form"),p=o("v-card-item"),r=o("v-btn"),g=o("v-card-actions"),h=o("v-card"),v=o("v-dialog");return f(),$(v,{modelValue:a.isCreateDialogOpen,"onUpdate:modelValue":n[2]||(n[2]=c=>a.isCreateDialogOpen=c),width:"400"},{default:t(()=>[e(h,null,{default:t(()=>[e(u,null,{default:t(()=>[s(" Create Category ")]),_:1}),e(p,null,{default:t(()=>[e(_,{onSubmit:n[1]||(n[1]=R(()=>{},["prevent"]))},{default:t(()=>[e(m,{modelValue:a.category_name,"onUpdate:modelValue":n[0]||(n[0]=c=>a.category_name=c),label:"category_name"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(r,{color:"green",onClick:l.createRequest},{default:t(()=>[s("Create")]),_:1},8,["onClick"]),e(r,{color:"grey",onClick:l.closeDialog},{default:t(()=>[s("Discard")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const z=b(B,[["render",T]]),A={data:()=>({}),computed:{...y(d,["isDeleteDialogOpen","chosenItem"]),...C(O,["jwt_token"])},methods:{...k(d,["delete"]),async deleteRequest(){await this.delete(this.jwt_token,this.chosenItem.category_number)?this.closeDialog():alert("The error happened")},closeDialog(){this.chosenItem={},this.isDeleteDialogOpen=!1}}},E=i("p",null,"Are you sure you want to delete this category?",-1);function H(a,n,w,V,U,l){const u=o("v-card-text"),m=o("v-card-item"),_=o("v-btn"),p=o("v-card-actions"),r=o("v-card"),g=o("v-dialog");return f(),$(g,{modelValue:a.isDeleteDialogOpen,"onUpdate:modelValue":n[0]||(n[0]=h=>a.isDeleteDialogOpen=h),width:"400"},{default:t(()=>[e(r,null,{default:t(()=>[e(u,null,{default:t(()=>[s(" Delete Category ")]),_:1}),e(m,null,{default:t(()=>[E]),_:1}),e(p,null,{default:t(()=>[e(_,{color:"red",onClick:l.deleteRequest},{default:t(()=>[s("Delete")]),_:1},8,["onClick"]),e(_,{color:"grey",onClick:l.closeDialog},{default:t(()=>[s("Discard")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const F=b(A,[["render",H]]),L={data:()=>({}),computed:{...y(d,["isUpdateDialogOpen","chosenItem"]),...C(O,["jwt_token"])},methods:{...k(d,["update"]),async updateRequest(){if(this.chosenItem.category_name.length==0)return;await this.update(this.jwt_token,this.chosenItem)?this.closeDialog():alert("The error happened")},closeDialog(){this.chosenItem={},this.isUpdateDialogOpen=!1}}};function M(a,n,w,V,U,l){const u=o("v-card-text"),m=o("v-text-field"),_=o("v-form"),p=o("v-card-item"),r=o("v-btn"),g=o("v-card-actions"),h=o("v-card"),v=o("v-dialog");return f(),$(v,{modelValue:a.isUpdateDialogOpen,"onUpdate:modelValue":n[2]||(n[2]=c=>a.isUpdateDialogOpen=c),width:"400"},{default:t(()=>[e(h,null,{default:t(()=>[e(u,null,{default:t(()=>[s(" Update Category ")]),_:1}),e(p,null,{default:t(()=>[e(_,{onSubmit:n[1]||(n[1]=R(()=>{},["prevent"]))},{default:t(()=>[e(m,{modelValue:a.chosenItem.category_name,"onUpdate:modelValue":n[0]||(n[0]=c=>a.chosenItem.category_name=c),label:"category_name"},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(r,{color:"orange",onClick:l.updateRequest},{default:t(()=>[s("Update")]),_:1},8,["onClick"]),e(r,{color:"grey",onClick:l.closeDialog},{default:t(()=>[s("Discard")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const W=b(L,[["render",M]]),G={components:{CategoryCreateDialog:z,CategoryDeleteDialog:F,CategoryUpdateDialog:W},data(){return{sortBy:""}},computed:{...y(d,["isCreateDialogOpen","chosenItem","isDeleteDialogOpen","isUpdateDialogOpen"]),...C(d,["categories"]),...C(O,["jwt_token"]),tableHeight(){return window.innerHeight*.5}},methods:{...k(d,["getAll"]),async search(){let a;a=await this.getAll(this.jwt_token),a||alert("The error happened")},create(){this.isCreateDialogOpen=!0},deleteRequest(a){this.chosenItem=a,this.isDeleteDialogOpen=!0},updateRequest(a){this.chosenItem={...a},this.isUpdateDialogOpen=!0}}};const J={class:"editor-block v-container pa-5"},K=i("thead",null,[i("tr",null,[i("th",null,"Number"),i("th",null,"Category"),i("th",null,"Desription"),i("th",null,"Options")])],-1),P={key:0};function Q(a,n,w,V,U,l){const u=o("CategoryCreateDialog"),m=o("CategoryDeleteDialog"),_=o("CategoryUpdateDialog"),p=o("v-card-title"),r=o("v-btn"),g=o("v-card-actions"),h=o("v-card"),v=o("v-table");return f(),D(q,null,[e(u),e(m),e(_),i("div",J,[e(h,{class:"mb-5"},{default:t(()=>[e(p,{class:"text-h4 font-weight-bold"},{default:t(()=>[s("Category")]),_:1}),e(g,{class:"d-flex"},{default:t(()=>[e(r,{onClick:l.search,size:"large",class:"mb-5 mt-0 mx-5 bg-blue"},{default:t(()=>[s("Search")]),_:1},8,["onClick"]),e(r,{onClick:l.create,size:"large",class:"mb-5 mt-0 bg-green"},{default:t(()=>[s("Create New")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(v,{height:l.tableHeight,hover:"","fixed-header":"",density:"compact",class:"data-table mt-5"},{default:t(()=>[K,a.categories.length!=0?(f(),D("tbody",P,[(f(!0),D(q,null,N(a.categories,(c,x)=>(f(),D("tr",{key:x},[i("td",null,I(x),1),i("td",null,I(c.name),1),i("td",null,I(c.description),1),i("td",null,[e(r,{size:"small",onClick:j=>l.updateRequest(c),class:"bg-orange"},{default:t(()=>[s("Update")]),_:2},1032,["onClick"]),e(r,{size:"small",onClick:j=>l.deleteRequest(c),class:"bg-red"},{default:t(()=>[s("Delete")]),_:2},1032,["onClick"])])]))),128))])):S("",!0)]),_:1},8,["height"])])],64)}const ee=b(G,[["render",Q]]);export{ee as default};
